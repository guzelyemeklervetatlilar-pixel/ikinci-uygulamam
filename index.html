<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Egzoz SimÃ¼latÃ¶rÃ¼</title>
    <style>
        body { margin: 0; background: #1a1a1a; color: white; font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        .garage { display: flex; align-items: center; gap: 20px; margin-bottom: 20px; }
        .car-display { text-align: center; width: 300px; padding: 20px; border: 2px solid #e74c3c; border-radius: 15px; background: #2c3e50; }
        .car-image { font-size: 80px; margin: 20px 0; transition: transform 0.3s; }
        
        /* Kadran TasarÄ±mÄ± */
        .gauge-container { position: relative; width: 200px; height: 100px; overflow: hidden; margin-top: 20px; }
        .gauge-bg { width: 200px; height: 200px; border: 15px solid #333; border-radius: 50%; box-sizing: border-box; }
        .needle { 
            position: absolute; bottom: 0; left: 50%; width: 4px; height: 80px; 
            background: #e74c3c; transform-origin: bottom center; 
            transform: rotate(-90deg); transition: transform 0.1s linear; 
        }
        
        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; width: 300px; }
        button { padding: 15px; font-weight: bold; border: none; border-radius: 10px; cursor: pointer; text-transform: uppercase; }
        .btn-gas { background: #2ecc71; color: white; grid-column: span 2; font-size: 20px; }
        .btn-limiter { background: #f1c40f; color: black; }
        .btn-nav { background: #3498db; color: white; }
        button:active { transform: scale(0.95); opacity: 0.8; }
        .status { margin-top: 10px; font-family: monospace; color: #f1c40f; }
    </style>
</head>
<body>

    <div class="garage">
        <button class="btn-nav" onclick="changeCar(-1)">â—€</button>
        <div class="car-display">
            <h2 id="car-name">TofaÅŸ DoÄŸan SLX</h2>
            <div class="car-image" id="car-emoji">ðŸš—</div>
            <div class="gauge-container">
                <div class="gauge-bg"></div>
                <div id="needle" class="needle"></div>
            </div>
            <div class="status">RPM: <span id="rpm-text">800</span></div>
        </div>
        <button class="btn-nav" onclick="changeCar(1)">â–¶</button>
    </div>

    <div class="controls">
        <button class="btn-gas" onmousedown="startGas()" onmouseup="stopGas()" ontouchstart="startGas()" ontouchend="stopGas()">GAZLA (W)</button>
        <button class="btn-limiter" id="limiter-btn">KESÄ°CÄ°</button>
        <button class="btn-nav" onclick="alert('Egzoz: ' + cars[currentCar].exhaust)">EGZOZ TÄ°PÄ°</button>
    </div>

    <script>
        const cars = [
            { name: "TofaÅŸ DoÄŸan SLX", emoji: "ðŸš—", exhaust: "VanalÄ± Egzoz", maxRpm: 7000, limiter: 6500 },
            { name: "BMW M4", emoji: "ðŸŽï¸", exhaust: "Akrapovic", maxRpm: 8500, limiter: 8000 },
            { name: "Honda Civic VTEC", emoji: "ðŸŽï¸", exhaust: "DÃ¼z Boru", maxRpm: 9000, limiter: 8500 },
            { name: "Lamborghini", emoji: "ðŸŽï¸", exhaust: "Stock Sport", maxRpm: 10000, limiter: 9500 }
        ];

        let currentCar = 0;
        let rpm = 800;
        let isGassing = false;
        let interval;

        function updateUI() {
            document.getElementById('car-name').innerText = cars[currentCar].name;
            document.getElementById('car-emoji').innerText = cars[currentCar].emoji;
            const needle = document.getElementById('needle');
            // RPM'i dereceye Ã§evir (-90 ile 90 derece arasÄ±)
            const deg = (rpm / cars[currentCar].maxRpm) * 180 - 90;
            needle.style.transform = `rotate(${deg}deg)`;
            document.getElementById('rpm-text').innerText = Math.floor(rpm);
            
            // Kesici Efekti
            if (rpm >= cars[currentCar].limiter) {
                document.getElementById('car-display').style.borderColor = "red";
            } else {
                document.getElementById('car-display').style.borderColor = "#e74c3c";
            }
        }

        function changeCar(dir) {
            currentCar = (currentCar + dir + cars.length) % cars.length;
            rpm = 800;
            updateUI();
        }

        function startGas() {
            isGassing = true;
            if (interval) clearInterval(interval);
            interval = setInterval(() => {
                if (isGassing) {
                    if (rpm < cars[currentCar].limiter) {
                        rpm += 150; 
                    } else {
                        // Kesiciye girme (Ã‡at pat efekti iÃ§in RPM oynat)
                        rpm = cars[currentCar].limiter - (Math.random() * 300);
                        console.log("Ã‡AT PAT! ðŸ”¥");
                    }
                } else {
                    if (rpm > 800) rpm -= 100;
                }
                updateUI();
            }, 30);
        }

        function stopGas() {
            isGassing = false;
        }

        // Klavye desteÄŸi
        window.addEventListener('keydown', (e) => { if(e.key === 'w' || e.key === 'W') startGas(); });
        window.addEventListener('keyup', (e) => { if(e.key === 'w' || e.key === 'W') stopGas(); });

        updateUI();
    </script>
</body>
</html>
